/* =========================================================
   _theme.scss — Light formal theme (Purple + Icy Blue)
   ========================================================= */

/* -------------------------
   Core Theme Variables
   ------------------------- */
:root {
  /* Brand */
  --purple: #6b4ad8;         /* primary */
  --purple-700: #5435c7;
  --purple-300: #a697f1;
  --ice: #9fd4ff;            /* accent */
  --ice-200: #cfeaff;

  /* Greys */
  --ink: #1e1f22;            /* main text */
  --muted: #63666d;          /* secondary text */
  --line: #e6e8ee;           /* dividers */
  --panel: #f6f8fb;          /* elevated light panel */
  --paper: #ffffff;          /* page white */

  /* Effects */
  --radius: 14px;
  --shadow: 0 10px 24px rgba(21,27,38,.06);
  --blur: 10px;

  /* Section helpers used in index.md */
  --bg: var(--paper);        /* HERO */
  --bg-elev: var(--panel);   /* SNAPSHOT */

  /* Bootstrap tune */
  --bs-primary: var(--purple);
  --bs-secondary: var(--ice);
  --bs-body-bg: var(--paper);
  --bs-body-color: var(--ink);
  --bs-dark: #0f1115;
  --bs-light: #f8f9fb;
}

/* Optional dark respect */
@media (prefers-color-scheme: dark) {
  :root {
    --bs-body-bg: #0f1115;
    --bs-body-color: #e8eaf0;
    --line: #1f2430;
    --panel: #12151b;
    --paper: #0f1115;
  }
}

/* -------------------------
   Base & Typography
   ------------------------- */
html, body { height: 100%; }

body {
  background-color: var(--bs-body-bg);
  color: var(--bs-body-color);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  padding-bottom: 70px; /* room if footer is fixed later */
}

main > .container { padding-top: 2rem; padding-bottom: 4rem; }

h1, h2, h3, h4, h5, h6 { letter-spacing: .2px; }
.display-5, .h1, .h2, .h3 { text-wrap: balance; }

/* Legible secondary text on white */
.text-muted { color: var(--muted) !important; }

/* Links */
a {
  color: var(--purple);
  text-decoration: none;
  transition: color .15s ease, opacity .15s ease, text-shadow .15s ease;

  &:hover { color: var(--purple-700); text-decoration: underline; }
  &:focus-visible {
    outline: 2px solid var(--ice);
    outline-offset: 2px;
    border-radius: 6px;
    text-decoration: none;
  }
}

/* Reduce motion respect */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* -------------------------
   Signature Header (sticky)
   ------------------------- */
.site-header {
  position: sticky; top: 0; z-index: 1000;
  background: rgba(255,255,255,.75);
  backdrop-filter: saturate(130%) blur(var(--blur));
  border-bottom: 1px solid var(--line);
  box-shadow: 0 8px 24px rgba(21,27,38,.04);
  transition: background .2s ease, box-shadow .2s ease, border-color .2s ease;

  &.is-scrolled {
    background: rgba(255,255,255,.92);
    box-shadow: 0 10px 28px rgba(21,27,38,.06);
  }
}

/* Brand */
.brand {
  .brand-logo {
    display: block;
    height: 36px;
    width: auto;
    filter: drop-shadow(0 4px 12px rgba(21,27,38,.08));
  }
  .brand-text { color: var(--ink); letter-spacing: .2px; }
}

/* Nav (custom look, not Bootstrap skin) */
.nav-list {
  list-style: none;
  display: flex;
  gap: .25rem;
  padding-left: 0;
  margin: 0;

  .nav-link {
    --pad: .55rem .8rem;
    position: relative;
    display: inline-flex;
    align-items: center;
    padding: var(--pad);
    color: #3d3f44;
    text-decoration: none;
    border-radius: 999px;
    transition: color .15s ease, background .15s ease;

    &:hover {
      color: var(--ink);
      background: #f3f6ff; /* subtle icy hover */
      text-decoration: none;
    }
    &:focus-visible {
      outline: 2px solid var(--ice);
      outline-offset: 2px;
    }

    /* Active/hover underline rail (icy → purple) */
    &::after {
      content: "";
      position: absolute; left: 12px; right: 12px; bottom: 6px; height: 2px;
      background: linear-gradient(90deg, transparent, var(--ice), var(--purple), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform .2s ease;
      border-radius: 2px;
    }
    &:hover::after,
    &[aria-current="page"]::after { transform: scaleX(1); }
  }
}

/* Mobile toggler (dark icon on light header) */
.navbar-toggler { border: 1px solid #d7dbe6; }
.navbar-toggler-icon { background-image: var(--bs-navbar-toggler-icon-bg, none); }

/* -------------------------
   Signature Footer (light)
   ------------------------- */
.site-footer {
  margin-top: 3rem;
  background:
    linear-gradient(180deg, rgba(159,212,255,.12), rgba(107,74,216,.06)),
    var(--paper);
  color: var(--ink);
  border-top: 1px solid var(--line);
  box-shadow: 0 -8px 24px rgba(21,27,38,.05) inset;

  .footer-grid {
    display: grid; grid-template-columns: 1fr auto 1fr; gap: 1rem;
    align-items: center; padding: 16px 0;
  }

  .footer-cell {
    &.left { justify-self: start; }
    &.center { justify-self: center; color: var(--muted); }
    &.right { justify-self: end; display: flex; gap: 1rem; flex-wrap: wrap; }
  }

  .footer-link {
    color: #4a4d54; text-decoration: none; border-bottom: 1px dashed transparent;
    transition: color .15s ease, border-color .15s ease;

    &:hover { color: var(--ink); border-color: #b9c0d0; }
    &:focus-visible {
      outline: 2px solid var(--ice);
      outline-offset: 3px;
      border-radius: 6px;
    }
  }
}

/* -------------------------
   Sections (used in index.md)
   ------------------------- */
section[style*="var(--bg)"] {
  color: var(--ink);
  background: var(--bg);
  border-bottom: 1px solid var(--line);
}
section[style*="var(--bg-elev)"] {
  color: var(--ink);
  background: var(--bg-elev);
  border-top: 1px solid var(--line);
  border-bottom: 1px solid var(--line);
}

/* -------------------------
   Buttons & Tag Filters
   ------------------------- */
.btn-primary {
  background-color: var(--purple);
  border-color: var(--purple);
  color: #fff; font-weight: 600;

  &:hover, &:focus { background-color: var(--purple-700); border-color: var(--purple-700); }
  &:focus-visible { box-shadow: 0 0 0 0.2rem rgba(159,212,255,.45); }
}

.btn-outline-secondary {
  color: #3d3f44;
  border-color: #d4d8e2;
  background-color: #ffffff;

  &:hover {
    color: #1f2024;
    border-color: var(--ice);
    background-color: #f3f8ff;
  }

  &.is-active,
  &.is-active:hover {
    color: #ffffff;
    background-color: var(--purple);
    border-color: var(--purple);
    text-shadow: 0 1px 0 rgba(0,0,0,.1);
  }

  &:focus-visible { box-shadow: 0 0 0 0.2rem rgba(159,212,255,.45); }
}

/* -------------------------
   Cards / Badges / Lists
   ------------------------- */
.card {
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  background: var(--paper);

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 14px 36px rgba(21,27,38,.08);
    border-color: #d9dce5;
  }

  .small { color: var(--muted); }
  ul { padding-left: 1.1rem; li { margin-bottom: .35rem; } }
}

/* Project tag badges */
.badge { border-radius: 999px; font-weight: 600; }
.badge.text-bg-light {
  background: #f1f3f8 !important; color: #3f434a !important; border: 1px solid #e1e5ee;
}
.badge-accent { /* e.g., mark JS projects */
  background: #efe9ff; color: var(--purple-700); border: 1px solid #e0d6ff;
}

/* Subtitle helper if not using .text-muted */
.subtitle { color: var(--muted); }

/* -------------------------
   Hero image polish
   ------------------------- */
img[alt="Logo"], .brand-logo { filter: drop-shadow(0 4px 12px rgba(21,27,38,.08)); }

/* -------------------------
   Utilities
   ------------------------- */
a.text-decoration-none:hover { text-decoration: underline; }
.focus-ring:focus-visible {
  outline: 2px solid var(--ice);
  outline-offset: 3px;
  border-radius: 8px;
}

/* -------------------------
   Responsive tweaks
   ------------------------- */
@media (max-width: 991px) {
  .nav-list { padding: .6rem 0; flex-direction: column;
    .nav-link { padding: .5rem .8rem; width: 100%; }
  }
  .site-footer .footer-grid { grid-template-columns: 1fr; text-align: center;
    .footer-cell.left, .footer-cell.right { justify-self: center; }
  }
}
@media (max-width: 576px) { body { padding-bottom: 84px; } }

/* -------------------------
   Optional: Compat skin (bridge old Bootstrap markup)
   Remove once you use .site-header/.site-footer
   ------------------------- */
header.bg-light, .navbar.bg-light {
  background: rgba(255,255,255,.85) !important;
  backdrop-filter: saturate(130%) blur(10px);
  border-bottom: 1px solid var(--line);
  box-shadow: 0 8px 24px rgba(21,27,38,.05);
}
footer.bg-light, footer.fixed-bottom {
  background: var(--paper) !important;
  border-top: 1px solid var(--line);
}

/* --- Hero & Snapshot (light) --- */
.hero {
  background: var(--paper) !important;   /* white */
  color: var(--ink);
}
.hero .lead { color: #4b4f55; }          /* legible grey on white */
.hero .btn-outline-secondary:hover {
  background-color: #f3f8ff;
  border-color: var(--ice);
}

.snapshot {
  background: var(--panel) !important;   /* light grey panel */
  color: var(--ink);
  border-color: var(--line) !important;  /* keep the subtle dividers */
}
.snapshot .text-muted { color: #6b7078 !important; }  /* ensure readability */

/* HOTFIX: force light hero & snapshot even if inline styles exist */
section[style*="var(--bg)"] {
  background: #fff !important;
  color: var(--ink) !important;
}
section[style*="var(--bg)"] .lead { color: #4b4f55 !important; }

section[style*="var(--bg-elev)"] {
  background: #f6f8fb !important;
  color: var(--ink) !important;
}
section[style*="var(--bg-elev)"] .text-muted { color: #6b7078 !important; }

/* =========================
   Dark cards on light page
   Scope: only the Projects grid (#projects)
   ========================= */
#projects .card {
  background: #0f1115;              /* near-black */
  border-color: #1c2028;
  color: #e8eaf0;
  box-shadow: 0 16px 40px rgba(12, 16, 24, .35);
}
#projects .card:hover {
  transform: translateY(-2px);
  box-shadow: 0 20px 56px rgba(12, 16, 24, .45);
  border-color: #262c37;
}

/* body text + subtitle on dark */
#projects .card p { color: #cdd3df; }
#projects .card .small,
#projects .card .text-muted,
#projects .card .subtitle { color: #9fa6b5 !important; }

/* links inside dark cards */
#projects .card a { color: #9fd4ff; }
#projects .card a:hover { color: #cfeaff; }

/* buttons in dark cards */
#projects .card .btn-primary {
  background-color: var(--purple);
  border-color: var(--purple);
  color: #fff;
}
#projects .card .btn-primary:hover,
#projects .card .btn-primary:focus {
  background-color: var(--purple-700);
  border-color: var(--purple-700);
}

#projects .card .btn-outline-secondary {
  color: #e8eaf0;
  background: transparent;
  border-color: #374052;
}
#projects .card .btn-outline-secondary:hover {
  color: #0e1117;
  background: #cfeaff;              /* icy blue hover for contrast */
  border-color: #cfeaff;
}

/* badges on dark */
#projects .card .badge.text-bg-light {
  background: rgba(255,255,255,.10) !important;
  color: #e0e6f2 !important;
  border: 1px solid rgba(255,255,255,.16);
}
#projects .card .badge-accent {
  background: rgba(107,74,216,.20);
  color: #efeaff;
  border: 1px solid rgba(107,74,216,.45);
}

/* headings on dark cards */
#projects .card .h5,
#projects .card h3 { color: #f2f4f8; }
